#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: 02_dtype__data_type_object_</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d6/d31/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2NumPy_01Core_202__dtype____data__type__object__.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">02_dtype__data_type_object_</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md2489"></a>
autotoc_md2489</h2>
<p>layout: default title: "dtype (data type object)" parent: "NumPy Core" </p>
<h2><a class="anchor" id="autotoc_md2490"></a>
nav_order: 2</h2>
<h1><a class="anchor" id="autotoc_md2491"></a>
Chapter 2: dtype (Data Type Object)</h1>
<p>In <a class="el" href="../../de/d16/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2NumPy_01Core_201__ndarray____n__dimensional__array__.html">Chapter 1: ndarray (N-dimensional array)</a>, we learned that NumPy's <code>ndarray</code> is a powerful grid designed to hold items <b>of the same type</b>. This "same type" requirement is fundamental to NumPy's speed and efficiency. But how does NumPy know <em>what kind</em> of data it's storing? That's where the <code>dtype</code> comes in!</p>
<h2><a class="anchor" id="autotoc_md2492"></a>
What Problem Does <code>dtype</code> Solve?</h2>
<p>Imagine you have a list of numbers in Python: <code>[1, 2, 3]</code>. Are these small integers? Big integers? Numbers with decimal points? Python figures this out on the fly, which is flexible but can be slow for large datasets.</p>
<p>NumPy needs to be much faster. To achieve speed, it needs to know <em>exactly</em> what kind of data is in an array <em>before</em> doing any calculations. Is it a tiny integer that fits in 1 byte? A standard integer using 4 bytes? A decimal number needing 8 bytes?</p>
<p>Knowing the exact type and size allows NumPy to:</p><ol type="1">
<li><b>Allocate Memory Efficiently:</b> If you have a million small integers, NumPy can reserve exactly the right amount of memory, not wasting space.</li>
<li><b>Perform Fast Math:</b> NumPy can use highly optimized, low-level C or Fortran code that works directly with specific number types (like 32-bit integers or 64-bit floats). These low-level operations are much faster than Python's flexible number handling.</li>
</ol>
<p>Think of it like packing boxes. If you know you're only packing small screws (like <code>int8</code>), you can use small, efficiently packed boxes. If you're packing large bolts (<code>int64</code>), you need bigger boxes. If you just have a mixed bag (like a Python list), you need a much larger, less efficient container to hold everything. The <code>dtype</code> is the label on the box telling NumPy exactly what's inside.</p>
<h2><a class="anchor" id="autotoc_md2493"></a>
What is a <code>dtype</code> (Data Type Object)?</h2>
<p>A <code>dtype</code> is a special <b>object</b> in NumPy that describes the <b>type</b> and <b>size</b> of data stored in an <code>ndarray</code>. Every <code>ndarray</code> has a <code>dtype</code> associated with it.</p>
<p>It's like specifying the "column type" in a database or spreadsheet. If you set a column to "Integer", you expect only whole numbers in that column. If you set it to "Decimal", you expect numbers with potential decimal points. Similarly, the <code>dtype</code> ensures all elements in a NumPy array are consistent.</p>
<p>Let's see it in action. Remember from Chapter 1 how we could check the attributes of an array?</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array of integers</span></div>
<div class="line">int_array = np.array([1, 2, 3])</div>
<div class="line">print(f<span class="stringliteral">&quot;Integer array: {int_array}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {int_array.dtype}&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array of floating-point numbers (decimals)</span></div>
<div class="line">float_array = np.array([1.0, 2.5, 3.14])</div>
<div class="line">print(f<span class="stringliteral">&quot;\nFloat array: {float_array}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {float_array.dtype}&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array of booleans (True/False)</span></div>
<div class="line">bool_array = np.array([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>])</div>
<div class="line">print(f<span class="stringliteral">&quot;\nBoolean array: {bool_array}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {bool_array.dtype}&quot;</span>)</div>
</div><!-- fragment --><p><b>Output:</b></p>
<div class="fragment"><div class="line">Integer array: [1 2 3]</div>
<div class="line">Data type: int64</div>
<div class="line"> </div>
<div class="line">Float array: [1.   2.5  3.14]</div>
<div class="line">Data type: float64</div>
<div class="line"> </div>
<div class="line">Boolean array: [ True False  True]</div>
<div class="line">Data type: bool</div>
</div><!-- fragment --><p>Look at the <code>Data type:</code> lines.</p><ul>
<li>For <code>int_array</code>, NumPy chose <code>int64</code>. This means each element is a 64-bit signed integer (a whole number that can be positive or negative, stored using 64 bits or 8 bytes). The <code>64</code> tells us the size.</li>
<li>For <code>float_array</code>, NumPy chose <code>float64</code>. Each element is a 64-bit floating-point number (a number with a potential decimal point, following the standard IEEE 754 format, stored using 64 bits or 8 bytes).</li>
<li>For <code>bool_array</code>, NumPy chose <code>bool</code>. Each element is a boolean value (True or False), typically stored using 1 byte.</li>
</ul>
<p>The <code>dtype</code> object holds this crucial information.</p>
<h2><a class="anchor" id="autotoc_md2494"></a>
Specifying the <code>dtype</code></h2>
<p>NumPy usually makes a good guess about the <code>dtype</code> when you create an array from a list. But sometimes you need to be explicit, especially if you want to save memory or ensure a specific precision.</p>
<p>You can specify the <code>dtype</code> when creating an array using the <code>dtype</code> argument:</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array, specifying 32-bit integers</span></div>
<div class="line">arr_i32 = np.array([1, 2, 3], dtype=np.int32)</div>
<div class="line">print(f<span class="stringliteral">&quot;Array: {arr_i32}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {arr_i32.dtype}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Bytes per element: {arr_i32.itemsize}&quot;</span>) <span class="comment"># itemsize shows bytes</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array, specifying 32-bit floats</span></div>
<div class="line">arr_f32 = np.array([1, 2, 3], dtype=np.float32)</div>
<div class="line">print(f<span class="stringliteral">&quot;\nArray: {arr_f32}&quot;</span>) <span class="comment"># Notice the decimal points now!</span></div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {arr_f32.dtype}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Bytes per element: {arr_f32.itemsize}&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Create an array using string codes for dtype</span></div>
<div class="line">arr_f64_str = np.array([4, 5, 6], dtype=<span class="stringliteral">&#39;float64&#39;</span>) <span class="comment"># Equivalent to np.float64</span></div>
<div class="line">print(f<span class="stringliteral">&quot;\nArray: {arr_f64_str}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Data type: {arr_f64_str.dtype}&quot;</span>)</div>
<div class="line">print(f<span class="stringliteral">&quot;Bytes per element: {arr_f64_str.itemsize}&quot;</span>)</div>
</div><!-- fragment --><p><b>Output:</b></p>
<div class="fragment"><div class="line">Array: [1 2 3]</div>
<div class="line">Data type: int32</div>
<div class="line">Bytes per element: 4</div>
<div class="line"> </div>
<div class="line">Array: [1. 2. 3.]</div>
<div class="line">Data type: float32</div>
<div class="line">Bytes per element: 4</div>
<div class="line"> </div>
<div class="line">Array: [4. 5. 6.]</div>
<div class="line">Data type: float64</div>
<div class="line">Bytes per element: 8</div>
</div><!-- fragment --><p>Notice a few things:</p><ol type="1">
<li>We used <code>np.int32</code> and <code>np.float32</code> to explicitly ask for 32-bit types.</li>
<li>The <code>.itemsize</code> attribute shows how many <em>bytes</em> each element takes. <code>int32</code> and <code>float32</code> use 4 bytes, while <code>float64</code> uses 8 bytes. Choosing <code>int32</code> instead of the default <code>int64</code> uses half the memory!</li>
<li>You can use string codes like &lsquo;'float64&rsquo;<code>(or</code>'f8'<code>) instead of the type object</code>np.float64`.</li>
</ol>
<h3><a class="anchor" id="autotoc_md2495"></a>
Common Data Type Codes</h3>
<p>NumPy offers various ways to specify dtypes. Here are the most common:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Type Category   </th><th class="markdownTableHeadLeft">NumPy Type Objects   </th><th class="markdownTableHeadLeft">String Codes (Common)   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><b>Boolean</b>   </td><td class="markdownTableBodyLeft"><code>np.bool_</code>   </td><td class="markdownTableBodyLeft">&lsquo;&rsquo;?'<code>or</code>'bool'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; True / False \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Signed Integer** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.int8<code>,</code>np.int16<code>,</code>np.int32<code>,</code>np.int64<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'i1'<code>,</code>'i2'<code>,</code>'i4'<code>,</code>'i8'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whole numbers (positive/negative) \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Unsigned Int** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.uint8<code>,</code>np.uint16<code>,</code>np.uint32<code>,</code>np.uint64<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'u1'<code>,</code>'u2'<code>,</code>'u4'<code>,</code>'u8'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whole numbers (non-negative) \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Floating Point** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.float16<code>,</code>np.float32<code>,</code>np.float64<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'f2'<code>,</code>'f4'<code>,</code>'f8'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Decimal numbers \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Complex Float** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.complex64<code>,</code>np.complex128<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'c8'<code>,</code>'c16'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Complex numbers (real+imaginary) \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt; **String (Fixed)** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.bytes_<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'S'<code>+ number \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Fixed-length byte strings \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Unicode (Fixed)** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.str_<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'U'<code>+ number \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Fixed-length unicode strings \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Object** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.object_<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'O'<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Python objects \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Datetime** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.datetime64<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'M8'<code>+ unit \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Date and time values \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt; **Timedelta** \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>np.timedelta64<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>'m8'` + unit   </td><td class="markdownTableBodyLeft">Time durations   </td></tr>
</table>
<ul>
<li>The numbers in the string codes (<code>i4</code>, <code>f8</code>, <code>u2</code>) usually represent the number of <b>bytes</b>. So <code>i4</code> = 4-byte integer (<code>int32</code>), <code>f8</code> = 8-byte float (<code>float64</code>).</li>
<li>&lsquo;'S&rsquo;<code>and</code>'U'<code>often need a number after them (e.g.,</code>'S10'<code>,</code>'U25'<code>) to specify the maximum length of the string. *</code>'M8'<code>and</code>'m8'<code>usually have a unit like</code>[D]<code>for day or</code>[s]<code>for second (e.g.,</code>'M8[D]'<code>). We'll explore numeric types more in [Chapter 4: Numeric Types (</code>numerictypes`)](<a class="el" href="../../da/d1f/04__numeric__types______numerictypes_____8md.html">04_numeric_types___numerictypes__.md</a>).</li>
</ul>
<p>Using explicit dtypes is important when:</p><ul>
<li>You need to control memory usage (e.g., using <code>int8</code> if your numbers are always small).</li>
<li>You are reading data from a file that has a specific binary format.</li>
<li>You need a specific precision for calculations.</li>
</ul>
<h2><a class="anchor" id="autotoc_md2496"></a>
A Glimpse Under the Hood</h2>
<p>How does NumPy manage this <code>dtype</code> information internally?</p>
<p>The Python <code>dtype</code> object you interact with (like <code>arr.dtype</code>) is essentially a wrapper around more detailed information stored in a C structure within NumPy's core. This C structure (often referred to as <code>PyArray_Descr</code>) contains everything NumPy needs to know to interpret the raw bytes in the <code>ndarray</code>'s memory block:</p>
<ol type="1">
<li><b>Type Kind:</b> Is it an integer, float, boolean, string, etc.? (Represented by a character like &lsquo;'i&rsquo;<code>,</code>'f'<code>,</code>'b'<code>,</code>'S'<code>).</code></li>
<li><code> **Item Size:** How many bytes does one element occupy? (e.g., 1, 2, 4, 8).</code></li>
<li><code> **Byte Order:** How are multi-byte numbers stored? (Little-endian</code>&lt;<code>or Big-endian</code>&gt;`. Important for reading files created on different types of computers).</li>
<li><b>Element Type:</b> A pointer to the specific C-level functions that know how to operate on this data type.</li>
<li><b>Fields (for Structured Types):</b> If it's a structured dtype (like a C struct or a database row), information about the names, dtypes, and offsets of each field.</li>
<li><b>Subarray (for Nested Types):</b> Information if the dtype itself represents an array.</li>
</ol>
<p>When you create an array or perform an operation:</p>
<div class="fragment"><div class="line">sequenceDiagram</div>
<div class="line">    participant P as Python Code (Your script)</div>
<div class="line">    participant NPF as NumPy Python Func (e.g., np.array)</div>
<div class="line">    participant C_API as NumPy C API</div>
<div class="line">    participant DTypeC as C Struct (PyArray_Descr)</div>
<div class="line">    participant Mem as Memory</div>
<div class="line"> </div>
<div class="line">    P-&gt;&gt;NPF: np.array([1, 2], dtype=&#39;int32&#39;)</div>
<div class="line">    NPF-&gt;&gt;C_API: Parse dtype string &#39;int32&#39;</div>
<div class="line">    C_API-&gt;&gt;DTypeC: Create/Find PyArray_Descr for int32 (kind=&#39;i&#39;, itemsize=4, etc.)</div>
<div class="line">    C_API-&gt;&gt;Mem: Allocate memory (2 items * 4 bytes/item = 8 bytes)</div>
<div class="line">    C_API-&gt;&gt;Mem: Copy data [1, 2] into memory as 32-bit ints</div>
<div class="line">    C_API--&gt;&gt;NPF: Return C ndarray struct (pointing to Mem and DTypeC)</div>
<div class="line">    NPF--&gt;&gt;P: Return Python ndarray object wrapping the C struct</div>
</div><!-- fragment --><p>The <code>dtype</code> is created or retrieved <em>once</em> and then referenced by potentially many arrays. This C-level description allows NumPy's core functions, especially the <a class="el" href="../../d6/def/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2NumPy_01Core_203__ufunc____universal__function__.html">ufunc (Universal Function)</a>s we'll see next, to work directly on the raw memory with maximum efficiency.</p>
<p>The Python code in <code>numpy/core/_dtype.py</code> helps manage the creation and representation (like the nice string output you see when you <code>print(arr.dtype)</code>) of these <code>dtype</code> objects in Python. For instance, functions like <code>_kind_name</code>, <code>__str__</code>, and <code>__repr__</code> in <code>_dtype.py</code> are used to generate the user-friendly names and representations based on the underlying C structure's information. The <code>_dtype_ctypes.py</code> file helps bridge the gap between NumPy dtypes and Python's built-in <code>ctypes</code> module, allowing interoperability.</p>
<h2><a class="anchor" id="autotoc_md2497"></a>
Beyond Simple Numbers: Structured Data and Byte Order</h2>
<p><code>dtype</code>s can do more than just describe simple numbers:</p>
<ul>
<li><b>Structured Arrays:</b> You can define a <code>dtype</code> that represents a mix of types, like a row in a table or a C struct. This is useful for representing structured data efficiently. ``&lsquo;python </li>
</ul>
<h1><a class="anchor" id="autotoc_md2498"></a>
Define a structured dtype: a name (up to 10 chars) and an age (4-byte int)</h1>
<p>person_dtype = np.dtype([('name&rsquo;, 'S10'), ('age', 'i4')]) people = np.array([('Alice', 30), ('Bob', 25)], dtype=person_dtype)</p>
<p>print(people) print(people.dtype) print(people[0]['name']) # Access fields by name <code> **Output:** </code> [(b'Alice', 30) (b'Bob', 25)] [('name', 'S10'), ('age', '&lt;i4')] b'Alice' ``<code></p><ul>
<li>**Byte Order:** Computers can store multi-byte numbers in different ways ("endianness").</li>
</ul>
<p></code>dtype<code>s can specify byte order (</code>&lt;<code>for little-endian,</code>&gt;<code>for big-endian) which is crucial for reading binary data correctly across different systems. Notice the</code>'&lt;i4'<code>in the output above â€“ the</code>&lt;` indicates little-endian, which is common on x86 processors.</p>
<h2><a class="anchor" id="autotoc_md2499"></a>
Conclusion</h2>
<p>You've now learned about the <code>dtype</code> object, the crucial piece of metadata that tells NumPy <em>what kind</em> of data is stored in an <code>ndarray</code>. You saw:</p>
<ul>
<li><code>dtype</code> describes the <b>type</b> and <b>size</b> of array elements.</li>
<li>It's essential for NumPy's <b>memory efficiency</b> and <b>computational speed</b>.</li>
<li>How to <b>inspect</b> (<code>arr.dtype</code>) and <b>specify</b> (<code>dtype=...</code>) data types using type objects (<code>np.int32</code>) or string codes (&lsquo;'i4&rsquo;<code>).</code></li>
<li><code> That the Python</code>dtype<code>object represents lower-level C information (</code>PyArray_Descr<code>) used for efficient operations. *</code>dtype`s can also handle more complex scenarios like <b>structured data</b> and <b>byte order</b>.</li>
</ul>
<p>Understanding <code>dtype</code>s is key to understanding how NumPy manages data efficiently. With the container (<code>ndarray</code>) and its contents (<code>dtype</code>) defined, we can now explore how NumPy performs fast calculations on these arrays.</p>
<p>Next up, we'll dive into the workhorses of NumPy's element-wise computations: <a class="el" href="../../d6/def/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2NumPy_01Core_203__ufunc____universal__function__.html">Chapter 3: ufunc (Universal Function)</a>.</p>
<hr  />
<p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
