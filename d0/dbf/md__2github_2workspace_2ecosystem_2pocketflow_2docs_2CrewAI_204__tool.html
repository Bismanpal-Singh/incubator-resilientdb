#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: 04_tool</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d0/dbf/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_204__tool.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">04_tool</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1499"></a>
autotoc_md1499</h2>
<p>layout: default title: "Tool" parent: "CrewAI" </p>
<h2><a class="anchor" id="autotoc_md1500"></a>
nav_order: 4</h2>
<h1><a class="anchor" id="autotoc_md1501"></a>
Chapter 4: Tool - Equipping Your Agents</h1>
<p>In <a class="el" href="../../d1/dae/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_203__task.html">Chapter 3: Task</a>, we learned how to define specific assignments (<code>Task</code>s) for our AI <code>Agent</code>s. We told the 'Travel Researcher' agent to find sunny cities and the 'Activity Planner' agent to create an itinerary.</p>
<p>But wait... how does the 'Travel Researcher' actually <em>find</em> those cities? Can it browse the web? Can it look at weather data? By default, an <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a>'s "brain" (<a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a>) is great at reasoning and generating text based on the information it already has, but it can't interact with the outside world on its own.</p>
<p>This is where <code>Tool</code>s come in! They are the <b>special equipment and abilities</b> we give our agents to make them more capable.</p>
<h2><a class="anchor" id="autotoc_md1502"></a>
Why Do We Need Tools?</h2>
<p>Imagine you hire a brilliant researcher. They can think, analyze, and write reports. But if their task is "Find the best coffee shop near me right now," they need specific tools: maybe a map application, a business directory, or a review website. Without these tools, they can only guess or rely on outdated knowledge.</p>
<p>Similarly, our AI <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a>s need <code>Tool</code>s to perform actions beyond simple text generation.</p>
<ul>
<li>Want your agent to find current information? Give it a <b>web search tool</b>.</li>
<li>Need it to perform calculations? Give it a <b>calculator tool</b>.</li>
<li>Want it to read a specific document? Give it a <b>file reading tool</b>.</li>
<li>Need it to ask another agent for help? Use the built-in <b>delegation tool</b> (<a href="../../tools/agent_tools/agent_tools.py">AgentTools</a>).</li>
</ul>
<p><b>Problem Solved:</b> <code>Tool</code>s extend an <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a>'s capabilities beyond its built-in knowledge, allowing it to interact with external systems, perform specific computations, or access real-time information.</p>
<h2><a class="anchor" id="autotoc_md1503"></a>
What is a Tool?</h2>
<p>Think of a <code>Tool</code> as a <b>function or capability</b> that an <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a> can choose to use while working on a <a class="el" href="../../d1/dae/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_203__task.html">Task</a>. Each <code>Tool</code> has a few key parts:</p>
<ol type="1">
<li><b><code>name</code></b>: A short, unique name for the tool (e.g., <code>web_search</code>, <code>calculator</code>).</li>
<li><b><code>description</code></b>: This is <b>very important</b>! It tells the <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a> <em>what the tool does</em> and <em>when it should be used</em>. The agent's <a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a> reads this description to decide if the tool is appropriate for the current step of its task. A good description is crucial for the agent to use the tool correctly. Example: "Useful for searching the internet for current events or information."</li>
<li><b><code>args_schema</code></b> (Optional): Defines the inputs the tool needs to work. For example, a <code>web_search</code> tool would likely need a <code>query</code> argument (the search term). This is often defined using Pydantic models.</li>
<li><b><code>_run</code> method</b>: This is the actual code that gets executed when the agent uses the tool. It takes the arguments defined in <code>args_schema</code> and performs the action (like calling a search API or performing a calculation).</li>
</ol>
<p>Agents are given a list of <code>Tool</code>s they are allowed to use. When an agent is working on a task, its internal thought process might lead it to conclude that it needs a specific capability. It will then look through its available tools, read their descriptions, and if it finds a match, it will figure out the necessary arguments and execute the tool's <code>_run</code> method.</p>
<h2><a class="anchor" id="autotoc_md1504"></a>
Equipping an Agent with a Tool</h2>
<p>CrewAI integrates with many existing toolkits, like <code>crewai_tools</code> (install separately: &lsquo;pip install 'crewai[tools]&rsquo;&lsquo;). Let's give our 'Travel Researcher&rsquo; agent a web search tool. We'll use <code>SerperDevTool</code> as an example, which uses the Serper.dev API for Google Search results.</p>
<p><em>(Note: Using tools like this often requires API keys. You'll need to sign up for Serper.dev and set the <code>SERPER_API_KEY</code> environment variable for this specific example to run.)</em></p>
<div class="fragment"><div class="line"><span class="comment"># Make sure you have crewai and crewai_tools installed</span></div>
<div class="line"><span class="comment"># pip install crewai crewai_tools</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> os</div>
<div class="line"><span class="keyword">from</span> crewai <span class="keyword">import</span> Agent</div>
<div class="line"><span class="keyword">from</span> crewai_tools <span class="keyword">import</span> SerperDevTool</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Set up your API key (replace with your actual key or environment variable setup)</span></div>
<div class="line"><span class="comment"># IMPORTANT: Do NOT hardcode keys in production code! Use environment variables.</span></div>
<div class="line"><span class="comment"># os.environ[&quot;SERPER_API_KEY&quot;] = &quot;YOUR_SERPER_API_KEY&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># 1. Instantiate the tool</span></div>
<div class="line"><span class="comment">#    (It automatically gets a name and description)</span></div>
<div class="line">search_tool = SerperDevTool()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 2. Define the agent and provide the tool in the &#39;tools&#39; list</span></div>
<div class="line">researcher = Agent(</div>
<div class="line">  role=<span class="stringliteral">&#39;Expert Travel Researcher&#39;</span>,</div>
<div class="line">  goal=<span class="stringliteral">&#39;Find the three most exciting and sunny European cities for a birthday trip in late May.&#39;</span>,</div>
<div class="line">  backstory=(</div>
<div class="line">      <span class="stringliteral">&quot;You are a world-class travel researcher with deep knowledge of &quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;European destinations. You excel at finding hidden gems and understanding &quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;weather patterns. Your recommendations are always insightful and tailored. &quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;You MUST use the web search tool to find the most up-to-date information.&quot;</span> <span class="comment"># Added instruction</span></div>
<div class="line">  ),</div>
<div class="line">  verbose=<span class="keyword">True</span>,</div>
<div class="line">  allow_delegation=<span class="keyword">False</span>,</div>
<div class="line">  tools=[search_tool] <span class="comment"># &lt;-- Give the agent access to the tool!</span></div>
<div class="line">  <span class="comment"># llm=your_llm # Assumes an LLM is configured (see Chapter 6)</span></div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># (You would then create a Task and a Crew as shown in previous chapters)</span></div>
<div class="line"><span class="comment"># task1 = Task(description=&quot;Find 3 sunny European cities for May...&quot;, agent=researcher, ...)</span></div>
<div class="line"><span class="comment"># trip_crew = Crew(agents=[researcher], tasks=[task1], ...)</span></div>
<div class="line"><span class="comment"># result = trip_crew.kickoff()</span></div>
<div class="line"><span class="comment"># print(result)</span></div>
</div><!-- fragment --><p><b>Explanation:</b></p>
<ol type="1">
<li>We import <code>SerperDevTool</code> from <code>crewai_tools</code>.</li>
<li>We create an instance of the tool: <code>search_tool = SerperDevTool()</code>. This object now holds the <code>name</code> ("Search"), <code>description</code> ("A tool that can be used to search the internet..."), and the <code>_run</code> logic to call the Serper API.</li>
<li>When defining our <code>researcher</code> <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a>, we pass a list containing <code>search_tool</code> to the <code>tools</code> parameter: <code>tools=[search_tool]</code>.</li>
<li>We also updated the agent's <code>backstory</code> to explicitly encourage using the tool, which can sometimes help guide the agent.</li>
</ol>
<p><b>Expected Outcome (Conceptual):</b></p>
<p>When this <code>researcher</code> agent runs a <a class="el" href="../../d1/dae/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_203__task.html">Task</a> like "Find 3 sunny European cities for May...", because <code>verbose=True</code>, you would see its thought process. It might look something like this (simplified):</p>
<div class="fragment"><div class="line">Thought: I need to find sunny European cities for May. The best way to get current information is to search the web. I have a &#39;Search&#39; tool available. I should use it.</div>
<div class="line">Action: Search</div>
<div class="line">Action Input: {&quot;query&quot;: &quot;best sunny European cities May weather culture food&quot;}</div>
<div class="line"> </div>
<div class="line">[... Agent waits for the tool to run ...]</div>
<div class="line"> </div>
<div class="line">Observation: [Search results mentioning Lisbon, Seville, Malta, Athens, etc. with details]</div>
<div class="line"> </div>
<div class="line">Thought: Okay, the search results suggest Lisbon, Seville, and Malta are good options based on sun, culture, and food. I will summarize these findings as requested.</div>
<div class="line">Final Answer: Here are the top 3 sunny European cities for May... 1. Lisbon... 2. Seville... 3. Malta...</div>
</div><!-- fragment --><p>The agent used the tool's <code>description</code> to know when to use it, formulated the necessary input (<code>query</code>), executed the tool, received the <code>Observation</code> (the tool's output), and then used that information to generate its <code>Final Answer</code>.</p>
<h2><a class="anchor" id="autotoc_md1505"></a>
How Tools Work "Under the Hood"</h2>
<p>When an <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a> equipped with tools runs a <a class="el" href="../../d1/dae/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_203__task.html">Task</a>, a fascinating interaction happens between the Agent, its <a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a> brain, and the Tools.</p>
<ol type="1">
<li><b>Task Received:</b> The Agent gets the task description and any context.</li>
<li><b>Initial Thought:</b> The Agent's <a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a> thinks about the task and its profile (<code>role</code>, <code>goal</code>, <code>backstory</code>). It formulates an initial plan.</li>
<li><b>Need for Capability:</b> The LLM might realize it needs information it doesn't have (e.g., "What's the weather like *right now*?") or needs to perform an action (e.g., "Calculate 5 factorial").</li>
<li><b>Tool Selection:</b> The Agent provides its <a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a> with the list of available <code>Tool</code>s, including their <code>name</code>s and crucially, their <code>description</code>s. The LLM checks if any tool description matches the capability it needs.</li>
<li><b>Tool Invocation Decision:</b> If the LLM finds a suitable tool (e.g., it needs to search, and finds the <code>Search</code> tool whose description says "Useful for searching the internet"), it decides to use it. It outputs a special message indicating the tool name and the arguments (based on the tool's <code>args_schema</code>).</li>
<li><b>Tool Execution:</b> The CrewAI framework intercepts this special message. It finds the corresponding <code>Tool</code> object and calls its <code>run()</code> method, passing the arguments the LLM provided.</li>
<li><b>Action Performed:</b> The tool's <code>_run()</code> method executes its code (e.g., calls an external API, runs a calculation).</li>
<li><b>Result Returned:</b> The tool's <code>_run()</code> method returns its result (e.g., the text of the search results, the calculated number).</li>
<li><b>Observation Provided:</b> The CrewAI framework takes the tool's result and feeds it back to the Agent's <a class="el" href="../../da/d0f/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_206__llm.html">LLM</a> as an "Observation".</li>
<li><b>Continued Thought:</b> The LLM now has new information from the tool. It incorporates this observation into its thinking and continues working on the task, potentially deciding to use another tool or generate the final answer.</li>
</ol>
<p>Let's visualize this flow for our researcher using the search tool:</p>
<div class="fragment"><div class="line">sequenceDiagram</div>
<div class="line">    participant A as Agent</div>
<div class="line">    participant LLM as Agent&#39;s Brain</div>
<div class="line">    participant ST as Search Tool</div>
<div class="line"> </div>
<div class="line">    A-&gt;&gt;LLM: Task: &quot;Find sunny cities...&quot; Plan?</div>
<div class="line">    LLM--&gt;&gt;A: Plan: Need current info. Search web for &quot;sunny European cities May&quot;.</div>
<div class="line">    A-&gt;&gt;A: Check tools: Found &#39;Search&#39; tool (description matches).</div>
<div class="line">    A-&gt;&gt;LLM: Format request for &#39;Search&#39; tool. Query?</div>
<div class="line">    LLM--&gt;&gt;A: Output: Use Tool &#39;Search&#39; with args {&quot;query&quot;: &quot;sunny European cities May&quot;}</div>
<div class="line">    A-&gt;&gt;ST: run(query=&quot;sunny European cities May&quot;)</div>
<div class="line">    Note right of ST: ST._run() calls Serper API...</div>
<div class="line">    ST--&gt;&gt;A: Return results: &quot;Lisbon (Sunny...), Seville (Hot...), Malta (Warm...)&quot;</div>
<div class="line">    A-&gt;&gt;LLM: Observation: Got results &quot;Lisbon...&quot;, &quot;Seville...&quot;, &quot;Malta...&quot;</div>
<div class="line">    LLM--&gt;&gt;A: Thought: Use these results to formulate the final list.</div>
<div class="line">    LLM--&gt;&gt;A: Final Answer: &quot;Based on recent web search, the top cities are...&quot;</div>
</div><!-- fragment --><p><b>Diving into the Code (<code>tools/base_tool.py</code>)</b></p>
<p>The foundation for all tools is the <code>BaseTool</code> class (found in <code>crewai/tools/base_tool.py</code>). When you use a pre-built tool or create your own, it typically inherits from this class.</p>
<div class="fragment"><div class="line"><span class="comment"># Simplified view from crewai/tools/base_tool.py</span></div>
<div class="line"><span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod</div>
<div class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Type, Optional, Any</div>
<div class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel, Field</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>BaseTool(BaseModel, ABC):</div>
<div class="line">    <span class="comment"># Configuration for the tool</span></div>
<div class="line">    name: str = Field(description=<span class="stringliteral">&quot;The unique name of the tool.&quot;</span>)</div>
<div class="line">    description: str = Field(description=<span class="stringliteral">&quot;What the tool does, how/when to use it.&quot;</span>)</div>
<div class="line">    args_schema: Optional[Type[BaseModel]] = Field(</div>
<div class="line">        default=<span class="keywordtype">None</span>, description=<span class="stringliteral">&quot;Pydantic schema for the tool&#39;s arguments.&quot;</span></div>
<div class="line">    )</div>
<div class="line">    <span class="comment"># ... other options like caching ...</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment"># This method contains the actual logic</span></div>
<div class="line">    <span class="preprocessor">@abstractmethod</span></div>
<div class="line">    <span class="keyword">def </span>_run(self, *args: Any, **kwargs: Any) -&gt; Any:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;The core implementation of the tool&#39;s action.&quot;&quot;&quot;</span></div>
<div class="line">        <span class="keywordflow">pass</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment"># This method is called by the agent execution framework</span></div>
<div class="line">    <span class="keyword">def </span>run(self, *args: Any, **kwargs: Any) -&gt; Any:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;Executes the tool&#39;s core logic.&quot;&quot;&quot;</span></div>
<div class="line">        <span class="comment"># Could add logging, error handling, caching calls here</span></div>
<div class="line">        print(f<span class="stringliteral">&quot;----- Executing Tool: {self.name} -----&quot;</span>) <span class="comment"># Example logging</span></div>
<div class="line">        result = self._run(*args, **kwargs)</div>
<div class="line">        print(f<span class="stringliteral">&quot;----- Tool {self.name} Finished -----&quot;</span>)</div>
<div class="line">        <span class="keywordflow">return</span> result</div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Helper method to generate a structured description for the LLM</span></div>
<div class="line">    <span class="keyword">def </span>_generate_description(self):</div>
<div class="line">        <span class="comment"># Creates a detailed description including name, args, and description</span></div>
<div class="line">        <span class="comment"># This is what the LLM sees to decide if it should use the tool</span></div>
<div class="line">        <span class="keywordflow">pass</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment"># ... other helper methods ...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># You can create a simple tool using the &#39;Tool&#39; class directly</span></div>
<div class="line"><span class="comment"># or inherit from BaseTool for more complex logic.</span></div>
<div class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Type</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SimpleTool(BaseTool):</div>
<div class="line">    name: str = <span class="stringliteral">&quot;MySimpleTool&quot;</span></div>
<div class="line">    description: str = <span class="stringliteral">&quot;A very simple example tool.&quot;</span></div>
<div class="line">    <span class="comment"># No args_schema needed if it takes no arguments</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">def </span>_run(self) -&gt; str:</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;This simple tool was executed successfully!&quot;</span></div>
</div><!-- fragment --><p>Key takeaways:</p>
<ul>
<li><code>BaseTool</code> requires <code>name</code> and <code>description</code>.</li>
<li><code>args_schema</code> defines the expected input structure (using Pydantic).</li>
<li>The actual logic lives inside the <code>_run</code> method.</li>
<li>The <code>run</code> method is the entry point called by the framework.</li>
<li>The framework (<code>crewai/tools/tool_usage.py</code> and <code>crewai/agents/executor.py</code>) handles the complex part: presenting tools to the LLM, parsing the LLM's decision to use a tool, calling <code>tool.run()</code>, and feeding the result back.</li>
</ul>
<p>A special mention goes to <code>AgentTools</code> (<code>crewai/tools/agent_tools/agent_tools.py</code>), which provides tools like <code>Delegate work to coworker</code> and <code>Ask question to coworker</code>, enabling agents within a <a class="el" href="../../d4/d90/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_201__crew.html">Crew</a> to collaborate.</p>
<h2><a class="anchor" id="autotoc_md1506"></a>
Creating Your Own Simple Tool (Optional)</h2>
<p>While CrewAI offers many pre-built tools, sometimes you need a custom one. Let's create a <em>very</em> basic calculator.</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> crewai.tools <span class="keyword">import</span> BaseTool</div>
<div class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel, Field</div>
<div class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Type</div>
<div class="line"><span class="keyword">import</span> math <span class="comment"># Using math module for safety</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># 1. Define the input schema using Pydantic</span></div>
<div class="line"><span class="keyword">class </span>CalculatorInput(BaseModel):</div>
<div class="line">    expression: str = Field(description=<span class="stringliteral">&quot;The mathematical expression to evaluate (e.g., &#39;2 + 2 * 4&#39;).&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 2. Create the Tool class, inheriting from BaseTool</span></div>
<div class="line"><span class="keyword">class </span>CalculatorTool(BaseTool):</div>
<div class="line">    name: str = <span class="stringliteral">&quot;Calculator&quot;</span></div>
<div class="line">    description: str = <span class="stringliteral">&quot;Useful for evaluating simple mathematical expressions involving numbers, +, -, *, /, and parentheses.&quot;</span></div>
<div class="line">    args_schema: Type[BaseModel] = CalculatorInput <span class="comment"># Link the input schema</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">def </span>_run(self, expression: str) -&gt; str:</div>
<div class="line">        <span class="stringliteral">&quot;&quot;&quot;Evaluates the mathematical expression.&quot;&quot;&quot;</span></div>
<div class="line">        allowed_chars = <span class="stringliteral">&quot;0123456789+-*/(). &quot;</span></div>
<div class="line">        <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(c <span class="keywordflow">in</span> allowed_chars <span class="keywordflow">for</span> c <span class="keywordflow">in</span> expression):</div>
<div class="line">             <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error: Expression contains invalid characters.&quot;</span></div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">try</span>:</div>
<div class="line">            <span class="comment"># VERY IMPORTANT: eval() is dangerous with arbitrary user input.</span></div>
<div class="line">            <span class="comment"># In a real application, use a safer parsing library like &#39;numexpr&#39; or build your own parser.</span></div>
<div class="line">            <span class="comment"># This is a simplified example ONLY.</span></div>
<div class="line">            result = eval(expression, {<span class="stringliteral">&quot;__builtins__&quot;</span>: <span class="keywordtype">None</span>}, {<span class="stringliteral">&quot;math&quot;</span>: math}) <span class="comment"># Safer eval</span></div>
<div class="line">            <span class="keywordflow">return</span> f<span class="stringliteral">&quot;The result of &#39;{expression}&#39; is {result}&quot;</span></div>
<div class="line">        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line">            <span class="keywordflow">return</span> f<span class="stringliteral">&quot;Error evaluating expression &#39;{expression}&#39;: {e}&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># 3. Instantiate and use it in an agent</span></div>
<div class="line">calculator = CalculatorTool()</div>
<div class="line"> </div>
<div class="line">math_agent = Agent(</div>
<div class="line">    role=<span class="stringliteral">&#39;Math Whiz&#39;</span>,</div>
<div class="line">    goal=<span class="stringliteral">&#39;Calculate the results of mathematical expressions accurately.&#39;</span>,</div>
<div class="line">    backstory=<span class="stringliteral">&#39;You are an expert mathematician agent.&#39;</span>,</div>
<div class="line">    tools=[calculator], <span class="comment"># Give the agent the calculator</span></div>
<div class="line">    verbose=<span class="keyword">True</span></div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Example Task for this agent:</span></div>
<div class="line"><span class="comment"># math_task = Task(description=&quot;What is the result of (5 + 3) * 6 / 2?&quot;, agent=math_agent)</span></div>
</div><!-- fragment --><p><b>Explanation:</b></p>
<ol type="1">
<li>We define <code>CalculatorInput</code> using Pydantic to specify that the tool needs an <code>expression</code> string. The <code>description</code> here helps the LLM understand what kind of string to provide.</li>
<li>We create <code>CalculatorTool</code> inheriting from <code>BaseTool</code>. We set <code>name</code>, <code>description</code>, and link <code>args_schema</code> to our <code>CalculatorInput</code>.</li>
<li>The <code>_run</code> method takes the <code>expression</code> string. We added a basic safety check and used a slightly safer version of <code>eval</code>. <b>Again, <code>eval</code> is generally unsafe; prefer dedicated math parsing libraries in production.</b> It returns the result as a string.</li>
<li>We can now instantiate <code>CalculatorTool()</code> and add it to an agent's <code>tools</code> list.</li>
</ol>
<h2><a class="anchor" id="autotoc_md1507"></a>
Conclusion</h2>
<p>You've learned about <code>Tool</code>s â€“ the essential equipment that gives your AI <a class="el" href="../../d2/d55/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_202__agent.html">Agent</a>s superpowers! Tools allow agents to perform actions like searching the web, doing calculations, or interacting with other systems, making them vastly more useful than agents that can only generate text. We saw how to equip an agent with pre-built tools and even how to create a simple custom tool by defining its <code>name</code>, <code>description</code>, <code>args_schema</code>, and <code>_run</code> method. The <code>description</code> is key for the agent to know when and how to use its tools effectively.</p>
<p>Now that we have Agents equipped with Tools and assigned Tasks, how does the whole <a class="el" href="../../d4/d90/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_201__crew.html">Crew</a> actually coordinate the work? Do agents work one after another? Is there a manager? That's determined by the <code>Process</code>. Let's explore that next!</p>
<p><b>Next:</b> <a class="el" href="../../de/d7d/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2CrewAI_205__process.html">Chapter 5: Process - Orchestrating the Workflow</a></p>
<hr  />
<p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
