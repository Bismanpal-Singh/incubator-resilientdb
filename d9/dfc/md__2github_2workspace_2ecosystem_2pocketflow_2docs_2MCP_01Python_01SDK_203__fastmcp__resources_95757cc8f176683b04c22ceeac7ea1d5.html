#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: 03_fastmcp_resources___resource____resourcemanager__</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/dfc/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2MCP_01Python_01SDK_203__fastmcp__resources_95757cc8f176683b04c22ceeac7ea1d5.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">03_fastmcp_resources___resource____resourcemanager__</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md2343"></a>
autotoc_md2343</h2>
<p>layout: default title: "FastMCP Resources (Resource, ResourceManager)" parent: "MCP Python SDK" </p>
<h2><a class="anchor" id="autotoc_md2344"></a>
nav_order: 3</h2>
<h1><a class="anchor" id="autotoc_md2345"></a>
Chapter 3: Sharing Data - FastMCP Resources (<code>Resource</code>, <code>ResourceManager</code>)</h1>
<p>In <a class="el" href="../../d8/d5c/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2MCP_01Python_01SDK_202__fastmcp__server______fastmcp____.html">Chapter 2: Easier Server Building with <code>FastMCP</code></a>, we saw how <code>FastMCP</code> and the <code>@server.tool()</code> decorator make it easy to create servers that can <em>perform actions</em> for clients, like our <code>echo</code> tool.</p>
<p>But what if your server just needs to share some <em>data</em>? Maybe it has a configuration file the client needs, a list of available items, or some text generated on the fly. You <em>could</em> make a tool for each piece of data, but that feels clunky. Isn't there a way for clients to just browse and read data sources directly?</p>
<p>Yes, there is! Welcome to <b>FastMCP Resources</b>.</p>
<h2><a class="anchor" id="autotoc_md2346"></a>
The Digital Library: Resources and the Resource Manager</h2>
<p>Imagine your <code>FastMCP</code> server is like a <b>digital library</b>. Inside this library, you have various pieces of information:</p><ul>
<li>Simple text notes (like a welcome message).</li>
<li>Static files (like a configuration file or a small image).</li>
<li>Information that changes (like the current time or weather).</li>
</ul>
<p>Each piece of information in this library is called a <b><code>Resource</code></b>. Think of each <code>Resource</code> as a book, a document, or maybe even a live news feed within the library.</p>
<p>To access any item in a library, you need its unique identifier – like a call number or an ISBN. In FastMCP, resources are identified by a <b>URI</b> (Uniform Resource Identifier). This looks similar to a web URL (like <code><a href="http://example.com">http://example.com</a></code>) but can use different schemes (like <code>data://</code>, <code><a href="file://">file://</a></code>, <code>weather://</code>). For example, a welcome message might have the URI <code>data://welcome_message</code>.</p>
<p>Now, how do you find out what books are in the library, or add a new one? You talk to the <b>librarian</b>. In <code>FastMCP</code>, the component that keeps track of all the available resources is called the <b><code>ResourceManager</code></b>.</p>
<ul>
<li><b><code>Resource</code></b>: A specific piece of data (static, dynamic, file) accessible via a URI. (The book)</li>
<li><b><code>ResourceManager</code></b>: Manages all the <code>Resource</code> objects registered with the <code>FastMCP</code> server. (The librarian)</li>
<li><b>URI</b>: The unique address used to find and access a <code>Resource</code>. (The call number)</li>
</ul>
<p>Clients can ask the <code>ResourceManager</code> (via <code>FastMCP</code>) to list all available resources (<code>listResources</code>) and then request the content of a specific resource using its URI (<code>readResource</code>).</p>
<h2><a class="anchor" id="autotoc_md2347"></a>
Adding Books to the Library: Using <code>@server.resource()</code></h2>
<p>Just like <code>@server.tool()</code> made it easy to add actions, <code>FastMCP</code> provides a simple decorator, <code>@server.resource()</code>, to add data resources to your server's library (its <code>ResourceManager</code>).</p>
<p>Let's add a simple, static welcome message to our server.</p>
<p><b>File: <code>library_server.py</code> (Version 1)</b></p>
<div class="fragment"><div class="line"><span class="comment"># 1. Import FastMCP</span></div>
<div class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 2. Create the server instance</span></div>
<div class="line">server = FastMCP(name=<span class="stringliteral">&quot;LibraryServer&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 3. Define a function that returns our static data</span></div>
<div class="line"><span class="keyword">def </span>get_welcome_message() -&gt; str:</div>
<div class="line">  <span class="stringliteral">&quot;&quot;&quot;Returns a simple welcome string.&quot;&quot;&quot;</span></div>
<div class="line">  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Welcome to the Library Server!&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># 4. Use the @server.resource() decorator to register the function&#39;s result</span></div>
<div class="line"><span class="comment">#    The URI &quot;data://greeting&quot; will be used by clients to access this.</span></div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;data://greeting&quot;, description=&quot;A friendly greeting.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>welcome_resource():</div>
<div class="line">    <span class="comment"># This function will be called *when a client reads* the resource.</span></div>
<div class="line">    <span class="comment"># It just returns the static message.</span></div>
<div class="line">    <span class="keywordflow">return</span> get_welcome_message() <span class="comment"># Or simply: return &quot;Welcome...&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Standard run block</span></div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    print(f<span class="stringliteral">&quot;Starting {server.name}...&quot;</span>)</div>
<div class="line">    server.run()</div>
<div class="line">    print(f<span class="stringliteral">&quot;{server.name} finished.&quot;</span>)</div>
</div><!-- fragment --><p><em>(Self-correction: The previous example was slightly complex with two functions. Let's simplify.)</em></p>
<p><b>File: <code>library_server.py</code> (Version 1 - Simpler)</b></p>
<div class="fragment"><div class="line"><span class="comment"># 1. Import FastMCP</span></div>
<div class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 2. Create the server instance</span></div>
<div class="line">server = FastMCP(name=<span class="stringliteral">&quot;LibraryServer&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 3. Use the @server.resource() decorator directly on the function</span></div>
<div class="line"><span class="comment">#    that provides the data.</span></div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;data://greeting&quot;, description=&quot;A friendly greeting.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>welcome_message() -&gt; str:</div>
<div class="line">  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="stringliteral">  This function is registered as the resource &#39;data://greeting&#39;.</span></div>
<div class="line"><span class="stringliteral">  It will be called when a client reads this resource URI.</span></div>
<div class="line"><span class="stringliteral">  &#39;-&gt; str&#39; indicates it returns text. FastMCP sets MIME type to text/plain.</span></div>
<div class="line"><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line">  print(<span class="stringliteral">&quot;Resource &#39;data://greeting&#39; was read!&quot;</span>) <span class="comment"># Server-side log</span></div>
<div class="line">  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Welcome to the Library Server! Enjoy your stay.&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># 4. Standard run block</span></div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    print(f<span class="stringliteral">&quot;Starting {server.name}...&quot;</span>)</div>
<div class="line">    server.run() <span class="comment"># Start listening</span></div>
<div class="line">    print(f<span class="stringliteral">&quot;{server.name} finished.&quot;</span>)</div>
</div><!-- fragment --><p><b>Explanation:</b></p>
<ol type="1">
<li><b><code>server = FastMCP(...)</code></b>: Creates our server (the library). Inside, it creates a <code>ResourceManager</code> (the librarian).</li>
<li>**<code>@server.resource(...)</code>**: This is our decorator "button".<ul>
<li><code>uri="data://greeting"</code>: We assign a unique URI (call number) to this resource. The <code>data://</code> part is just a convention here, you can choose meaningful schemes.</li>
<li><code>description="..."</code>: A helpful description for clients browsing the library.</li>
</ul>
</li>
<li><b><code>def welcome_message() -&gt; str:</code></b>: This function provides the <em>content</em> for the resource.<ul>
<li><code>-&gt; str</code>: The type hint tells <code>FastMCP</code> this resource provides text data. It will automatically set the <code>mime_type</code> to <code>text/plain</code>.</li>
<li>The function's body simply returns the string we want to share.</li>
<li><b>Important:</b> This function is only executed when a client actually asks to <em>read</em> the resource <code>data://greeting</code>. It's not run when the server starts.</li>
</ul>
</li>
<li><b><code>server.run()</code></b>: Starts the server. The <code>ResourceManager</code> now knows about <code>data://greeting</code>.</li>
</ol>
<p>If you run this server (<code>mcp run library_server.py</code>), a client could:</p><ol type="1">
<li>Call <code>listResources</code> and see <code>data://greeting</code> in the list.</li>
<li>Call <code>readResource</code> with the URI <code>data://greeting</code>.</li>
<li><code>FastMCP</code> would ask the <code>ResourceManager</code>, find the registered function (<code>welcome_message</code>), run it, get the string <code>"Welcome..."</code>, and send it back to the client.</li>
</ol>
<h2><a class="anchor" id="autotoc_md2348"></a>
Dynamic Data: Resources Generated on the Fly</h2>
<p>Resources don't have to be static text. The function you decorate can do calculations, read files, or anything else to generate the data <em>when it's requested</em>. This is great for information that changes.</p>
<p>Let's add a resource that tells the current time.</p>
<p><b>File: <code>library_server.py</code> (Version 2)</b></p>
<div class="fragment"><div class="line"><span class="keyword">import</span> datetime <span class="comment"># Need this module to get the current time</span></div>
<div class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</div>
<div class="line"> </div>
<div class="line">server = FastMCP(name=<span class="stringliteral">&quot;LibraryServer&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;data://greeting&quot;, description=&quot;A friendly greeting.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>welcome_message() -&gt; str:</div>
<div class="line">  print(<span class="stringliteral">&quot;Resource &#39;data://greeting&#39; was read!&quot;</span>)</div>
<div class="line">  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Welcome to the Library Server! Enjoy your stay.&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># NEW: Add a dynamic resource for the current time</span></div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;time://current&quot;, description=&quot;The current server time.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>current_time() -&gt; str:</div>
<div class="line">  <span class="stringliteral">&quot;&quot;&quot;Returns the current time as a string.&quot;&quot;&quot;</span></div>
<div class="line">  now = datetime.datetime.now()</div>
<div class="line">  time_str = now.strftime(<span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</div>
<div class="line">  print(f<span class="stringliteral">&quot;Resource &#39;time://current&#39; was read! Time is {time_str}&quot;</span>)</div>
<div class="line">  <span class="comment"># The function calculates the time *each time* it&#39;s called</span></div>
<div class="line">  <span class="keywordflow">return</span> f<span class="stringliteral">&quot;The current server time is: {time_str}&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Standard run block</span></div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    print(f<span class="stringliteral">&quot;Starting {server.name}...&quot;</span>)</div>
<div class="line">    server.run()</div>
<div class="line">    print(f<span class="stringliteral">&quot;{server.name} finished.&quot;</span>)</div>
</div><!-- fragment --><p>Now, every time a client reads <code>time://current</code>, the <code>current_time</code> function will execute, get the <em>latest</em> time, format it, and return it.</p>
<h2><a class="anchor" id="autotoc_md2349"></a>
Parameterized Data: Resource Templates</h2>
<p>What if you have data related to specific items, like weather information for different cities? You wouldn't want to create a separate resource function for every city (<code>weather_london</code>, <code>weather_paris</code>, etc.).</p>
<p>Resource URIs can contain parameters, indicated by curly braces <code>{}</code>. When you define a resource with a parameterized URI and a function that accepts arguments matching those parameters, <code>FastMCP</code> creates a <b>Resource Template</b>.</p>
<p><b>File: <code>library_server.py</code> (Version 3)</b></p>
<div class="fragment"><div class="line"><span class="keyword">import</span> datetime</div>
<div class="line"><span class="keyword">import</span> random <span class="comment"># To simulate getting weather data</span></div>
<div class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</div>
<div class="line"> </div>
<div class="line">server = FastMCP(name=<span class="stringliteral">&quot;LibraryServer&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;data://greeting&quot;, description=&quot;A friendly greeting.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>welcome_message() -&gt; str:</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Welcome to the Library Server! Enjoy your stay.&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">@server.resource(uri=&quot;time://current&quot;, description=&quot;The current server time.&quot;)</span></div>
<div class="line"><span class="keyword">def </span>current_time() -&gt; str:</div>
<div class="line">    now = datetime.datetime.now()</div>
<div class="line">    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;The current server time is: {now.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)}&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># NEW: Add a resource template for weather</span></div>
<div class="line"><span class="comment"># The URI contains a parameter {city_name}</span></div>
<div class="line"><span class="preprocessor">@server.resource</span>(uri=<span class="stringliteral">&quot;weather://forecast/{city_name}&quot;</span>,</div>
<div class="line">                  description=<span class="stringliteral">&quot;Provides a dummy weather forecast.&quot;</span>)</div>
<div class="line"><span class="comment"># The function accepts an argument matching the URI parameter</span></div>
<div class="line"><span class="keyword">def </span>get_weather_forecast(city_name: str) -&gt; str:</div>
<div class="line">    <span class="stringliteral">&quot;&quot;&quot;Generates a fake weather forecast for the given city.&quot;&quot;&quot;</span></div>
<div class="line">    print(f<span class="stringliteral">&quot;Resource template &#39;weather://forecast/{{city}}&#39; read for city: {city_name}&quot;</span>)</div>
<div class="line">    <span class="comment"># In a real app, you&#39;d fetch actual weather here based on city_name</span></div>
<div class="line">    temperature = random.randint(5, 25)</div>
<div class="line">    conditions = random.choice([<span class="stringliteral">&quot;Sunny&quot;</span>, <span class="stringliteral">&quot;Cloudy&quot;</span>, <span class="stringliteral">&quot;Rainy&quot;</span>])</div>
<div class="line">    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;Forecast for {city_name.capitalize()}: {temperature}°C, {conditions}&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Standard run block</span></div>
<div class="line"><span class="keywordflow">if</span> __name__ == <span class="stringliteral">&quot;__main__&quot;</span>:</div>
<div class="line">    print(f<span class="stringliteral">&quot;Starting {server.name}...&quot;</span>)</div>
<div class="line">    server.run()</div>
<div class="line">    print(f<span class="stringliteral">&quot;{server.name} finished.&quot;</span>)</div>
</div><!-- fragment --><p><b>Explanation:</b></p>
<ol type="1">
<li>**<code>@server.resource(uri="weather://forecast/{city_name}", ...)</code>**: We define a URI with a placeholder <code>{city_name}</code>.</li>
<li><b><code>def get_weather_forecast(city_name: str) -&gt; str:</code></b>: The function signature includes a parameter <code>city_name</code> that exactly matches the name inside the curly braces in the URI.</li>
<li><b>How it works:</b><ul>
<li>When a client asks to read a URI like <code>weather://forecast/london</code>, <code>FastMCP</code> sees it matches the template.</li>
<li>It extracts the value "london" from the URI.</li>
<li>It calls the <code>get_weather_forecast</code> function, passing <code>"london"</code> as the <code>city_name</code> argument.</li>
<li>The function generates the forecast for London and returns the string.</li>
<li>If the client asks for <code>weather://forecast/paris</code>, the same function is called, but with <code>city_name="paris"</code>.</li>
</ul>
</li>
</ol>
<p>This template approach is very powerful for providing structured data without writing repetitive code. Clients would use <code>listResourceTemplates</code> to discover templates like this.</p>
<h2><a class="anchor" id="autotoc_md2350"></a>
How Resources Work Under the Hood</h2>
<p>Using <code>@server.resource()</code> feels simple, but what's happening inside <code>FastMCP</code>?</p>
<ol type="1">
<li><b>Registration:</b> When Python processes your code and sees <code>@server.resource(uri="data://greeting")</code> above the <code>welcome_message</code> function, it calls an internal <code>server.resource()</code> method.<ul>
<li>This method analyzes the URI and the function.</li>
<li>If the URI has no <code>{}</code> parameters and the function takes no arguments (or only a <code>Context</code> argument), it creates a <code>FunctionResource</code> object. This object essentially wraps your <code>welcome_message</code> function, storing its details (URI, description, the function itself).</li>
<li>If the URI <em>does</em> have parameters matching the function's arguments (like <code>weather://forecast/{city_name}</code> and <code>get_weather_forecast(city_name: str)</code>), it creates a <code>ResourceTemplate</code> object instead.</li>
<li>It then tells the <code>ResourceManager</code> (the librarian) to store this <code>FunctionResource</code> or <code>ResourceTemplate</code>. (This happens via <code>_resource_manager.add_resource</code> or <code>_resource_manager.add_template</code>, referencing <code>server/fastmcp/resources/resource_manager.py</code>).</li>
</ul>
</li>
<li><b>Client Request (<code>readResource</code>)</b>:<ul>
<li>A client sends an MCP message: <code>{"method": "readResource", "params": {"uri": "data://greeting"}}</code>.</li>
<li><code>FastMCP</code> receives this and calls its internal <code>read_resource</code> handler (see <code>server/fastmcp/server.py</code>).</li>
<li>The handler asks the <code>ResourceManager</code>: "Do you have a resource for the URI `data://greeting`?" (<code>_resource_manager.get_resource</code>).</li>
<li>The <code>ResourceManager</code> checks its list of concrete resources. It finds the <code>FunctionResource</code> associated with <code>data://greeting</code>.</li>
<li><code>FastMCP</code> (or the <code>ResourceManager</code>) calls the <code>.read()</code> method on that <code>FunctionResource</code> object (see <code>server/fastmcp/resources/types.py</code>).</li>
<li>The <code>FunctionResource.read()</code> method executes the original Python function you decorated (<code>welcome_message()</code>).</li>
<li>Your function returns the string <code>"Welcome..."</code>.</li>
<li><code>FastMCP</code> packages this string into a valid MCP <code>readResource</code> response and sends it back to the client.</li>
</ul>
</li>
<li><b>Client Request (<code>readResource</code> with Template)</b>:<ul>
<li>Client sends: <code>{"method": "readResource", "params": {"uri": "weather://forecast/london"}}</code>.</li>
<li><code>FastMCP</code> asks <code>ResourceManager</code> for <code>weather://forecast/london</code>.</li>
<li><code>ResourceManager</code> checks concrete resources – no match.</li>
<li><code>ResourceManager</code> checks its <code>ResourceTemplate</code> list. It finds the <code>weather://forecast/{city_name}</code> template matches the requested URI.</li>
<li>It extracts the parameter <code>{"city_name": "london"}</code>.</li>
<li>It uses the template to <em>dynamically create</em> a temporary <code>FunctionResource</code> for this specific request, configured to call <code>get_weather_forecast(city_name="london")</code>.</li>
<li><code>FastMCP</code> calls <code>.read()</code> on this temporary resource.</li>
<li>The <code>get_weather_forecast("london")</code> function runs and returns the forecast string.</li>
<li><code>FastMCP</code> sends the result back.</li>
</ul>
</li>
</ol>
<p><b>Simplified Sequence Diagram (<code>readResource</code> for <code>data://greeting</code>):</b></p>
<div class="fragment"><div class="line">sequenceDiagram</div>
<div class="line">    participant Client</div>
<div class="line">    participant FastMCP_Server as FastMCP (library_server.py)</div>
<div class="line">    participant ResManager as ResourceManager (_resource_manager)</div>
<div class="line">    participant FuncResource as FunctionResource (wraps welcome_message)</div>
<div class="line">    participant WelcomeFunc as welcome_message()</div>
<div class="line"> </div>
<div class="line">    Client-&gt;&gt;+FastMCP_Server: Send MCP Request: readResource(uri=&quot;data://greeting&quot;)</div>
<div class="line">    FastMCP_Server-&gt;&gt;+ResManager: get_resource(&quot;data://greeting&quot;)</div>
<div class="line">    ResManager--&gt;&gt;-FastMCP_Server: Return FunctionResource object</div>
<div class="line">    FastMCP_Server-&gt;&gt;+FuncResource: resource.read()</div>
<div class="line">    FuncResource-&gt;&gt;+WelcomeFunc: Call original function welcome_message()</div>
<div class="line">    WelcomeFunc--&gt;&gt;-FuncResource: Return &quot;Welcome...&quot;</div>
<div class="line">    FuncResource--&gt;&gt;-FastMCP_Server: Return &quot;Welcome...&quot;</div>
<div class="line">    FastMCP_Server-&gt;&gt;-Client: Send MCP Response: content=&quot;Welcome...&quot;</div>
</div><!-- fragment --><p>While <code>@server.resource()</code> is the easiest way, the SDK also provides classes like <code>TextResource</code>, <code>BinaryResource</code>, <code>FileResource</code> (see <code>server/fastmcp/resources/types.py</code>) that you could potentially instantiate and add directly using <code>server.add_resource(MyTextResource(...))</code>, but the decorator handles wrapping your functions nicely.</p>
<h2><a class="anchor" id="autotoc_md2351"></a>
Conclusion</h2>
<p>You've learned about FastMCP Resources – the way to share data from your server like items in a digital library.</p>
<ul>
<li><b>Resources (<code>Resource</code>)</b> are data sources (text, files, dynamic content) identified by <b>URIs</b>.</li>
<li>The <b><code>ResourceManager</code></b> keeps track of all registered resources.</li>
<li>The <code>@server.resource()</code> decorator is the easiest way to add resources by wrapping Python functions.</li>
<li>Resources can be <b>static</b> (returning the same data) or <b>dynamic</b> (generating data when read).</li>
<li><b>Resource Templates</b> allow you to handle parameterized URIs (like <code>weather://forecast/{city}</code>) efficiently.</li>
<li>Clients use <code>listResources</code>, <code>listResourceTemplates</code>, and <code>readResource</code> to interact with your server's data library.</li>
</ul>
<p>Resources are essential for providing context, configuration, or any other data your clients might need to consume without executing a complex action.</p>
<p>In the next chapter, we'll take a closer look at the other main building block we briefly saw in Chapter 2: <a class="el" href="../../dc/df6/md__2github_2workspace_2ecosystem_2pocketflow_2docs_2MCP_01Python_01SDK_204__fastmcp__tools______tool________toolmanager____.html">FastMCP Tools (<code>Tool</code>, <code>ToolManager</code>)</a>, and explore how they handle actions and inputs in more detail.</p>
<hr  />
<p>Generated by <a href="https://github.com/The-Pocket/Tutorial-Codebase-Knowledge">AI Codebase Knowledge Builder</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
